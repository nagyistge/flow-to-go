// Type definitions for node-red <https://github.com/node-red/node-red>
// Project: node-red
// Definitions by: shortsn <https://github.com/shortsn>

import { Server } from 'http';
import { RequestHandler } from 'express';

/**
 * Initialises Node-RED
 */
export function init(httpServer: Server, userSettings: UserSettings): void;
/**
 * Start Node-RED
 */
export function start(): Promise<void>;
/**
 * Stop Node-RED
 */
export function stop(): Promise<void>;
/**
 * Returns the version
 */
export function version(): string;
/**
 * The admin express application
 */
export const httpAdmin: RequestHandler;
/**
 * The node express application
 */
export const httpNode: RequestHandler;
/**
 * The http server instance
 */
export const server: Server;
/**
 * 
 */
export const log: Log;

export const nodes: any;
export const settings: any;
export const util: any;
export const comms: any;
export const library: any;

export interface Log {
  FATAL: number,
  ERROR: number,
  WARN: number,
  INFO: number,
  DEBUG: number,
  TRACE: number,
  AUDIT: number,
  METRIC: number,

  log: (msg: { level: number, msg: string }) => void;
  info: (msg: string) => void;
  warn: (msg: string) => void;
  error: (msg: string) => void;
  trace: (msg: string) => void;
  debug: (msg: string) => void;
}

export interface UserSettings {
  coreNodesDir?: string;
  httpAdminRoot?: string;
  httpNodeRoot?: string;
  httpUIRoot?: string;
  userDir?: string;
}
